{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Surfwatch Documentation","text":"<p>Link to the Original Repo</p> <p>This is a demostration repo for the Surfwatch project. The source code is available upon request.</p> <p>Note</p> <p>The documentation demonstrated here may be different from the source code implementation:</p> <ol> <li>The original hardware is based on the Arduino (nano) on python, I reworked it to uses a ESP32-CAM (using the same arduino framework though), so the code is migrated to work with the ESP32-CAM.</li> </ol> <p>please also see the optimizations I have done to achieve a stable latency.</p>"},{"location":"architecture/","title":"Architecture","text":""},{"location":"architecture/#server-firmware-interaction-diagram","title":"Server-Firmware Interaction Diagram","text":"<pre><code>sequenceDiagram\n    participant TASK_CAM\n    participant networkQueue\n    participant TASK_NET\n    participant server\n\n    Note over TASK_CAM: 1. Capture &amp; Wrap\n    TASK_CAM-&gt;&gt;TASK_CAM: Capture frame (get camera_fb*)\n    TASK_CAM-&gt;&gt;TASK_CAM: Wrap pointer in networkMessage\n\n    Note over TASK_CAM, networkQueue: 2. Enqueue\n    TASK_CAM-&gt;&gt;networkQueue: Send message to Queue\n\n    Note over networkQueue, TASK_NET: 3. Dequeue &amp; Send\n    networkQueue--&gt;&gt;TASK_NET: Retrieve payload\n    TASK_NET-&gt;&gt;server: Send payload to Server\n\n    Note over server: 4. Server Processing\n    server-&gt;&gt;server: Process Image (YOLOv8 inference)\n\n    Note over server, TASK_NET: 5. Response &amp; Action\n    server--&gt;&gt;TASK_NET: Send Response (Contains CMD: LED_ON)\n    TASK_NET-&gt;&gt;TASK_NET: Parse Response\n    TASK_NET-&gt;&gt;TASK_NET: Match \"LED_ON\" -&gt; Write LED Pin HIGH</code></pre>"},{"location":"backend/","title":"AI & Backend","text":""},{"location":"backend/#the-ai-pipeline","title":"The AI pipeline","text":"<pre><code>0: 480x640 1 person, 37.5ms\nSpeed: 1.2ms preprocess, 37.5ms inference, 0.4ms postprocess per image at shape (1, 3, 480, 640)\nResults saved to ......\nDetection Results: Found 1 objects\n[IoT] Processed Image from ESP32_Cam_01, Detections: 1\nINFO:     192.168.0.171:63600 - \"POST /api/devices/file/image HTTP/1.1\" 200 OK\n</code></pre>"},{"location":"frontend/","title":"Frontend","text":""},{"location":"frontend/#the-frontend-overview","title":"The frontend Overview","text":"<ul> <li>The frontend using Expo framework to build a cross-platform mobile app (iOS and Android).</li> <li>The app communicates with the backend server via RESTful API to fetch images and detection results.</li> </ul>"},{"location":"frontend/#key-features","title":"Key Features","text":""},{"location":"frontend/#user-authentication","title":"User Authentication","text":"<ul> <li>login and signup functionality for users</li> </ul>"},{"location":"frontend/#active-surfers-count","title":"Active Surfers Count","text":"<ul> <li>Display the number of active surfers detected in real-time</li> </ul>"},{"location":"results/","title":"Footnotes for original data","text":""},{"location":"results/#baseline-latency-logs-esp","title":"baseline latency logs ESP","text":"<pre><code>21:02:44.642 &gt; ---------------------------------\n21:02:49.371 &gt; [HTTP] Raw Commands: NONE\n21:02:49.372 &gt; ---- Network Message Timings ----\n21:02:49.374 &gt; Payload Created At: 3156997 ms\n21:02:49.377 &gt; Network Send Time After Payload Creation: 1 ms\n21:02:49.383 &gt; Network Receive Time - After Send: 375 ms\n21:02:49.386 &gt; Command End Time - After Receive: 221 ms\n21:02:49.388 &gt; Total Time from Payload Creation to Command End: 597 ms\n21:02:49.394 &gt; ---------------------------------\n21:02:54.419 &gt; [HTTP] Raw Commands: NONE\n21:02:54.419 &gt; ---- Network Message Timings ----\n21:02:54.422 &gt; Payload Created At: 3161997 ms\n21:02:54.424 &gt; Network Send Time After Payload Creation: 1 ms\n21:02:54.430 &gt; Network Receive Time - After Send: 453 ms\n21:02:54.433 &gt; Command End Time - After Receive: 189 ms\n21:02:54.436 &gt; Total Time from Payload Creation to Command End: 643 ms\n21:02:54.441 &gt; ---------------------------------\n21:02:59.370 &gt; [HTTP] Raw Commands: NONE\n21:02:59.371 &gt; ---- Network Message Timings ----\n21:02:59.373 &gt; Payload Created At: 3166997 ms\n21:02:59.376 &gt; Network Send Time After Payload Creation: 1 ms\n21:02:59.381 &gt; Network Receive Time - After Send: 338 ms\n21:02:59.384 &gt; Command End Time - After Receive: 256 ms\n21:02:59.387 &gt; Total Time from Payload Creation to Command End: 595 ms\n21:02:59.392 &gt; ---------------------------------\n21:03:04.644 &gt; [HTTP] Raw Commands: NONE\n21:03:04.645 &gt; ---- Network Message Timings ----\n21:03:04.647 &gt; Payload Created At: 3171997 ms\n21:03:04.650 &gt; Network Send Time After Payload Creation: 1 ms\n21:03:04.655 &gt; Network Receive Time - After Send: 638 ms\n21:03:04.658 &gt; Command End Time - After Receive: 230 ms\n21:03:04.661 &gt; Total Time from Payload Creation to Command End: 869 ms\n21:03:04.667 &gt; ---------------------------------\n21:03:09.542 &gt; [HTTP] Raw Commands: NONE\n21:03:09.542 &gt; ---- Network Message Timings ----\n21:03:09.545 &gt; Payload Created At: 3176997 ms\n21:03:09.547 &gt; Network Send Time After Payload Creation: 2 ms\n21:03:09.553 &gt; Network Receive Time - After Send: 628 ms\n21:03:09.556 &gt; Command End Time - After Receive: 137 ms\n21:03:09.559 &gt; Total Time from Payload Creation to Command End: 767 ms\n21:03:09.564 &gt; ---------------------------------\n21:03:14.368 &gt; [HTTP] Raw Commands: NONE\n21:03:14.368 &gt; ---- Network Message Timings ----\n21:03:14.371 &gt; Payload Created At: 3181997 ms\n21:03:14.373 &gt; Network Send Time After Payload Creation: 1 ms\n21:03:14.379 &gt; Network Receive Time - After Send: 569 ms\n21:03:14.382 &gt; Command End Time - After Receive: 22 ms\n21:03:14.384 &gt; Total Time from Payload Creation to Command End: 592 ms\n21:03:14.390 &gt; ---------------------------------\n21:03:20.123 &gt; [HTTP] Raw Commands: NONE\n21:03:20.124 &gt; ---- Network Message Timings ----\n21:03:20.126 &gt; Payload Created At: 3186997 ms\n21:03:20.129 &gt; Network Send Time After Payload Creation: 1 ms\n21:03:20.134 &gt; Network Receive Time - After Send: 1092 ms\n21:03:20.137 &gt; Command End Time - After Receive: 255 ms\n21:03:20.142 &gt; Total Time from Payload Creation to Command End: 1348 ms\n21:03:20.145 &gt; ---------------------------------\n21:03:24.122 &gt; [HTTP] Raw Commands: NONE\n21:03:24.123 &gt; ---- Network Message Timings ----\n21:03:24.125 &gt; Payload Created At: 3191997 ms\n21:03:24.128 &gt; Network Send Time After Payload Creation: 1 ms\n21:03:24.134 &gt; Network Receive Time - After Send: 298 ms\n21:03:24.136 &gt; Command End Time - After Receive: 49 ms\n21:03:24.139 &gt; Total Time from Payload Creation to Command End: 348 ms\n21:03:24.145 &gt; ---------------------------------\n21:03:29.403 &gt; [HTTP] Raw Commands: NONE\n21:03:29.404 &gt; ---- Network Message Timings ----\n21:03:29.406 &gt; Payload Created At: 3196997 ms\n21:03:29.409 &gt; Network Send Time After Payload Creation: 1 ms\n21:03:29.415 &gt; Network Receive Time - After Send: 388 ms\n21:03:29.417 &gt; Command End Time - After Receive: 239 ms\n21:03:29.420 &gt; Total Time from Payload Creation to Command End: 628 ms\n21:03:29.425 &gt; ---------------------------------\n21:03:34.367 &gt; [HTTP] Raw Commands: NONE\n21:03:34.367 &gt; ---- Network Message Timings ----\n21:03:34.370 &gt; Payload Created At: 3201997 ms\n21:03:34.372 &gt; Network Send Time After Payload Creation: 1 ms\n21:03:34.378 &gt; Network Receive Time - After Send: 378 ms\n21:03:34.381 &gt; Command End Time - After Receive: 213 ms\n21:03:34.384 &gt; Total Time from Payload Creation to Command End: 592 ms\n21:03:34.390 &gt; ---------------------------------\n21:03:39.176 &gt; [HTTP] Raw Commands: NONE\n21:03:39.176 &gt; ---- Network Message Timings ----\n21:03:39.179 &gt; Payload Created At: 3206997 ms\n21:03:39.182 &gt; Network Send Time After Payload Creation: 1 ms\n21:03:39.187 &gt; Network Receive Time - After Send: 283 ms\n21:03:39.190 &gt; Command End Time - After Receive: 117 ms\n21:03:39.193 &gt; Total Time from Payload Creation to Command End: 401 ms\n21:03:39.199 &gt; ---------------------------------\n21:03:44.642 &gt; [HTTP] Raw Commands: NONE\n21:03:44.642 &gt; ---- Network Message Timings ----\n21:03:44.644 &gt; Payload Created At: 3211997 ms\n21:03:44.647 &gt; Network Send Time After Payload Creation: 1 ms\n21:03:44.653 &gt; Network Receive Time - After Send: 605 ms\n21:03:44.656 &gt; Command End Time - After Receive: 260 ms\n21:03:44.658 &gt; Total Time from Payload Creation to Command End: 866 ms\n21:03:44.664 &gt; ---------------------------------\n21:03:49.136 &gt; [HTTP] Raw Commands: NONE\n21:03:49.136 &gt; ---- Network Message Timings ----\n21:03:49.139 &gt; Payload Created At: 3216997 ms\n21:03:49.141 &gt; Network Send Time After Payload Creation: 1 ms\n21:03:49.147 &gt; Network Receive Time - After Send: 348 ms\n21:03:49.150 &gt; Command End Time - After Receive: 12 ms\n21:03:49.153 &gt; Total Time from Payload Creation to Command End: 361 ms\n21:03:49.158 &gt; ---------------------------------\n21:03:54.560 &gt; [HTTP] Raw Commands: NONE\n21:03:54.560 &gt; ---- Network Message Timings ----\n21:03:54.562 &gt; Payload Created At: 3221997 ms\n21:03:54.565 &gt; Network Send Time After Payload Creation: 1 ms\n21:03:54.571 &gt; Network Receive Time - After Send: 522 ms\n21:03:54.573 &gt; Command End Time - After Receive: 261 ms\n21:03:54.576 &gt; Total Time from Payload Creation to Command End: 784 ms\n21:03:54.582 &gt; ---------------------------------\n21:03:59.398 &gt; [HTTP] Raw Commands: NONE\n21:03:59.398 &gt; ---- Network Message Timings ----\n21:03:59.401 &gt; Payload Created At: 3226997 ms\n21:03:59.403 &gt; Network Send Time After Payload Creation: 1 ms\n21:03:59.409 &gt; Network Receive Time - After Send: 473 ms\n21:03:59.412 &gt; Command End Time - After Receive: 149 ms\n21:03:59.415 &gt; Total Time from Payload Creation to Command End: 623 ms\n21:03:59.420 &gt; ---------------------------------\n21:04:04.646 &gt; [HTTP] Raw Commands: NONE\n21:04:04.646 &gt; ---- Network Message Timings ----\n21:04:04.649 &gt; Payload Created At: 3231997 ms\n21:04:04.652 &gt; Network Send Time After Payload Creation: 1 ms\n21:04:04.657 &gt; Network Receive Time - After Send: 679 ms\n21:04:04.660 &gt; Command End Time - After Receive: 191 ms\n21:04:04.663 &gt; Total Time from Payload Creation to Command End: 871 ms\n21:04:04.668 &gt; ---------------------------------\n21:04:09.395 &gt; [HTTP] Raw Commands: NONE\n21:04:09.395 &gt; ---- Network Message Timings ----\n21:04:09.398 &gt; Payload Created At: 3236997 ms\n21:04:09.400 &gt; Network Send Time After Payload Creation: 2 ms\n21:04:09.406 &gt; Network Receive Time - After Send: 580 ms\n21:04:09.409 &gt; Command End Time - After Receive: 37 ms\n21:04:09.411 &gt; Total Time from Payload Creation to Command End: 619 ms\n21:04:09.417 &gt; ---------------------------------\n21:04:14.665 &gt; [HTTP] Raw Commands: NONE\n21:04:14.666 &gt; ---- Network Message Timings ----\n21:04:14.669 &gt; Payload Created At: 3241997 ms\n21:04:14.671 &gt; Network Send Time After Payload Creation: 1 ms\n21:04:14.678 &gt; Network Receive Time - After Send: 628 ms\n21:04:14.680 &gt; Command End Time - After Receive: 262 ms\n21:04:14.683 &gt; Total Time from Payload Creation to Command End: 891 ms\n21:04:14.688 &gt; ---------------------------------\n21:04:19.660 &gt; [HTTP] Raw Commands: NONE\n21:04:19.661 &gt; ---- Network Message Timings ----\n21:04:19.663 &gt; Payload Created At: 3246997 ms\n21:04:19.666 &gt; Network Send Time After Payload Creation: 1 ms\n21:04:19.671 &gt; Network Receive Time - After Send: 615 ms\n21:04:19.674 &gt; Command End Time - After Receive: 269 ms\n21:04:19.677 &gt; Total Time from Payload Creation to Command End: 885 ms\n21:04:19.683 &gt; ---------------------------------\n21:04:24.406 &gt; [HTTP] Raw Commands: NONE\n21:04:24.406 &gt; ---- Network Message Timings ----\n21:04:24.409 &gt; Payload Created At: 3251997 ms\n21:04:24.412 &gt; Network Send Time After Payload Creation: 1 ms\n21:04:24.417 &gt; Network Receive Time - After Send: 465 ms\n21:04:24.420 &gt; Command End Time - After Receive: 165 ms\n21:04:24.423 &gt; Total Time from Payload Creation to Command End: 631 ms\n21:04:24.428 &gt; ---------------------------------\n21:04:29.390 &gt; [HTTP] Raw Commands: NONE\n21:04:29.390 &gt; ---- Network Message Timings ----\n21:04:29.393 &gt; Payload Created At: 3256997 ms\n21:04:29.396 &gt; Network Send Time After Payload Creation: 1 ms\n21:04:29.401 &gt; Network Receive Time - After Send: 559 ms\n21:04:29.404 &gt; Command End Time - After Receive: 55 ms\n21:04:29.406 &gt; Total Time from Payload Creation to Command End: 615 ms\n21:04:29.412 &gt; ---------------------------------\n21:04:34.916 &gt; [HTTP] Raw Commands: NONE\n21:04:34.916 &gt; ---- Network Message Timings ----\n21:04:34.919 &gt; Payload Created At: 3261997 ms\n21:04:34.921 &gt; Network Send Time After Payload Creation: 1 ms\n21:04:34.927 &gt; Network Receive Time - After Send: 865 ms\n21:04:34.930 &gt; Command End Time - After Receive: 274 ms\n21:04:34.933 &gt; Total Time from Payload Creation to Command End: 1140 ms\n21:04:34.938 &gt; ---------------------------------\n21:04:39.150 &gt; [HTTP] Raw Commands: NONE\n21:04:39.150 &gt; ---- Network Message Timings ----\n21:04:39.153 &gt; Payload Created At: 3266997 ms\n21:04:39.156 &gt; Network Send Time After Payload Creation: 1 ms\n21:04:39.161 &gt; Network Receive Time - After Send: 360 ms\n21:04:39.164 &gt; Command End Time - After Receive: 14 ms\n21:04:39.167 &gt; Total Time from Payload Creation to Command End: 375 ms\n21:04:39.173 &gt; ---------------------------------\n21:04:45.155 &gt; [HTTP] Raw Commands: NONE\n21:04:45.156 &gt; ---- Network Message Timings ----\n21:04:45.158 &gt; Payload Created At: 3271997 ms\n21:04:45.160 &gt; Network Send Time After Payload Creation: 1 ms\n21:04:45.166 &gt; Network Receive Time - After Send: 987 ms\n21:04:45.169 &gt; Command End Time - After Receive: 392 ms\n21:04:45.171 &gt; Total Time from Payload Creation to Command End: 1380 ms\n21:04:45.177 &gt; ---------------------------------\n21:04:49.906 &gt; [HTTP] Raw Commands: NONE\n21:04:49.906 &gt; ---- Network Message Timings ----\n21:04:49.908 &gt; Payload Created At: 3276997 ms\n21:04:49.911 &gt; Network Send Time After Payload Creation: 1 ms\n21:04:49.917 &gt; Network Receive Time - After Send: 945 ms\n21:04:49.919 &gt; Command End Time - After Receive: 184 ms\n21:04:49.922 &gt; Total Time from Payload Creation to Command End: 1130 ms\n21:04:49.928 &gt; ---------------------------------\n21:04:54.649 &gt; [HTTP] Raw Commands: NONE\n21:04:54.649 &gt; ---- Network Message Timings ----\n21:04:54.652 &gt; Payload Created At: 3281997 ms\n21:04:54.654 &gt; Network Send Time After Payload Creation: 1 ms\n21:04:54.661 &gt; Network Receive Time - After Send: 636 ms\n21:04:54.663 &gt; Command End Time - After Receive: 237 ms\n21:04:54.667 &gt; Total Time from Payload Creation to Command End: 874 ms\n21:04:54.678 &gt; ---------------------------------\n21:04:59.658 &gt; [HTTP] Raw Commands: NONE\n21:04:59.658 &gt; ---- Network Message Timings ----\n21:04:59.661 &gt; Payload Created At: 3286997 ms\n21:04:59.664 &gt; Network Send Time After Payload Creation: 1 ms\n21:04:59.669 &gt; Network Receive Time - After Send: 822 ms\n21:04:59.672 &gt; Command End Time - After Receive: 61 ms\n21:04:59.675 &gt; Total Time from Payload Creation to Command End: 884 ms\n21:04:59.681 &gt; ---------------------------------\n21:05:04.476 &gt; [HTTP] Raw Commands: NONE\n21:05:04.476 &gt; ---- Network Message Timings ----\n21:05:04.479 &gt; Payload Created At: 3291997 ms\n21:05:04.482 &gt; Network Send Time After Payload Creation: 1 ms\n21:05:04.487 &gt; Network Receive Time - After Send: 591 ms\n21:05:04.490 &gt; Command End Time - After Receive: 109 ms\n21:05:04.493 &gt; Total Time from Payload Creation to Command End: 701 ms\n21:05:04.498 &gt; ---------------------------------\n21:05:09.453 &gt; [HTTP] Raw Commands: NONE\n21:05:09.453 &gt; ---- Network Message Timings ----\n21:05:09.455 &gt; Payload Created At: 3296997 ms\n21:05:09.459 &gt; Network Send Time After Payload Creation: 1 ms\n21:05:09.465 &gt; Network Receive Time - After Send: 433 ms\n21:05:09.467 &gt; Command End Time - After Receive: 244 ms\n21:05:09.470 &gt; Total Time from Payload Creation to Command End: 678 ms\n21:05:09.475 &gt; ---------------------------------\n21:05:15.222 &gt; [HTTP] Raw Commands: NONE\n21:05:15.222 &gt; ---- Network Message Timings ----\n21:05:15.225 &gt; Payload Created At: 3301997 ms\n21:05:15.227 &gt; Network Send Time After Payload Creation: 1 ms\n21:05:15.233 &gt; Network Receive Time - After Send: 1339 ms\n21:05:15.236 &gt; Command End Time - After Receive: 107 ms\n21:05:15.241 &gt; Total Time from Payload Creation to Command End: 1447 ms\n21:05:15.244 &gt; ---------------------------------\n21:05:19.959 &gt; [HTTP] Raw Commands: NONE\n21:05:19.960 &gt; ---- Network Message Timings ----\n21:05:19.962 &gt; Payload Created At: 3306997 ms\n21:05:19.965 &gt; Network Send Time After Payload Creation: 1 ms\n21:05:19.971 &gt; Network Receive Time - After Send: 1086 ms\n21:05:19.973 &gt; Command End Time - After Receive: 97 ms\n21:05:19.976 &gt; Total Time from Payload Creation to Command End: 1184 ms\n21:05:19.981 &gt; ---------------------------------\n21:05:24.659 &gt; [HTTP] Raw Commands: NONE\n21:05:24.659 &gt; ---- Network Message Timings ----\n21:05:24.662 &gt; Payload Created At: 3311997 ms\n21:05:24.665 &gt; Network Send Time After Payload Creation: 1 ms\n21:05:24.670 &gt; Network Receive Time - After Send: 778 ms\n21:05:24.673 &gt; Command End Time - After Receive: 105 ms\n21:05:24.675 &gt; Total Time from Payload Creation to Command End: 884 ms\n21:05:24.682 &gt; ---------------------------------\n21:05:29.470 &gt; [HTTP] Raw Commands: NONE\n21:05:29.471 &gt; ---- Network Message Timings ----\n21:05:29.473 &gt; Payload Created At: 3316997 ms\n21:05:29.476 &gt; Network Send Time After Payload Creation: 1 ms\n21:05:29.481 &gt; Network Receive Time - After Send: 546 ms\n21:05:29.484 &gt; Command End Time - After Receive: 148 ms\n21:05:29.487 &gt; Total Time from Payload Creation to Command End: 695 ms\n21:05:29.492 &gt; ---------------------------------\n21:05:34.732 &gt; [HTTP] Raw Commands: NONE\n21:05:34.732 &gt; ---- Network Message Timings ----\n21:05:34.735 &gt; Payload Created At: 3321997 ms\n21:05:34.737 &gt; Network Send Time After Payload Creation: 1 ms\n21:05:34.743 &gt; Network Receive Time - After Send: 801 ms\n21:05:34.746 &gt; Command End Time - After Receive: 154 ms\n21:05:34.748 &gt; Total Time from Payload Creation to Command End: 956 ms\n21:05:34.754 &gt; ---------------------------------\n21:05:39.422 &gt; [HTTP] Raw Commands: NONE\n21:05:39.422 &gt; ---- Network Message Timings ----\n21:05:39.425 &gt; Payload Created At: 3326997 ms\n21:05:39.428 &gt; Network Send Time After Payload Creation: 1 ms\n21:05:39.433 &gt; Network Receive Time - After Send: 493 ms\n21:05:39.436 &gt; Command End Time - After Receive: 153 ms\n21:05:39.438 &gt; Total Time from Payload Creation to Command End: 647 ms\n21:05:39.444 &gt; ---------------------------------\n21:05:45.201 &gt; [HTTP] Raw Commands: NONE\n21:05:45.201 &gt; ---- Network Message Timings ----\n21:05:45.204 &gt; Payload Created At: 3331997 ms\n21:05:45.207 &gt; Network Send Time After Payload Creation: 1 ms\n21:05:45.213 &gt; Network Receive Time - After Send: 1185 ms\n21:05:45.215 &gt; Command End Time - After Receive: 241 ms\n21:05:45.221 &gt; Total Time from Payload Creation to Command End: 1427 ms\n21:05:45.224 &gt; ---------------------------------\n21:05:49.662 &gt; [HTTP] Raw Commands: NONE\n21:05:49.662 &gt; ---- Network Message Timings ----\n21:05:49.665 &gt; Payload Created At: 3336997 ms\n21:05:49.667 &gt; Network Send Time After Payload Creation: 1 ms\n21:05:49.673 &gt; Network Receive Time - After Send: 648 ms\n21:05:49.676 &gt; Command End Time - After Receive: 238 ms\n21:05:49.678 &gt; Total Time from Payload Creation to Command End: 887 ms\n21:05:49.684 &gt; ---------------------------------\n21:05:54.426 &gt; [HTTP] Raw Commands: NONE\n21:05:54.426 &gt; ---- Network Message Timings ----\n21:05:54.429 &gt; Payload Created At: 3341997 ms\n21:05:54.431 &gt; Network Send Time After Payload Creation: 1 ms\n21:05:54.437 &gt; Network Receive Time - After Send: 386 ms\n21:05:54.439 &gt; Command End Time - After Receive: 264 ms\n21:05:54.443 &gt; Total Time from Payload Creation to Command End: 651 ms\n21:05:54.448 &gt; ---------------------------------\n21:05:59.391 &gt; [HTTP] Raw Commands: NONE\n21:05:59.391 &gt; ---- Network Message Timings ----\n21:05:59.394 &gt; Payload Created At: 3346997 ms\n21:05:59.396 &gt; Network Send Time After Payload Creation: 1 ms\n21:05:59.402 &gt; Network Receive Time - After Send: 416 ms\n21:05:59.405 &gt; Command End Time - After Receive: 198 ms\n21:05:59.407 &gt; Total Time from Payload Creation to Command End: 615 ms\n21:05:59.413 &gt; ---------------------------------\n21:06:04.426 &gt; [HTTP] Raw Commands: NONE\n21:06:04.426 &gt; ---- Network Message Timings ----\n21:06:04.429 &gt; Payload Created At: 3351997 ms\n21:06:04.432 &gt; Network Send Time After Payload Creation: 1 ms\n21:06:04.437 &gt; Network Receive Time - After Send: 574 ms\n21:06:04.440 &gt; Command End Time - After Receive: 76 ms\n21:06:04.443 &gt; Total Time from Payload Creation to Command End: 651 ms\n21:06:04.448 &gt; ---------------------------------\n21:06:11.496 &gt; [HTTP] Raw Commands: NONE\n21:06:11.496 &gt; ---- Network Message Timings ----\n21:06:11.498 &gt; Payload Created At: 3356997 ms\n21:06:11.501 &gt; Network Send Time After Payload Creation: 1 ms\n21:06:11.508 &gt; Network Receive Time - After Send: 2719 ms\n21:06:11.509 &gt; Command End Time - After Receive: 0 ms\n21:06:11.512 &gt; Total Time from Payload Creation to Command End: 2720 ms\n21:06:11.518 &gt; ---------------------------------\n21:06:14.722 &gt; [HTTP] Raw Commands: NONE\n21:06:14.722 &gt; ---- Network Message Timings ----\n21:06:14.725 &gt; Payload Created At: 3361997 ms\n21:06:14.727 &gt; Network Send Time After Payload Creation: 1 ms\n21:06:14.733 &gt; Network Receive Time - After Send: 824 ms\n21:06:14.736 &gt; Command End Time - After Receive: 121 ms\n21:06:14.739 &gt; Total Time from Payload Creation to Command End: 946 ms\n21:06:14.744 &gt; ---------------------------------\n21:06:19.988 &gt; [HTTP] Raw Commands: NONE\n21:06:19.989 &gt; ---- Network Message Timings ----\n21:06:19.991 &gt; Payload Created At: 3366997 ms\n21:06:19.994 &gt; Network Send Time After Payload Creation: 1 ms\n21:06:20.000 &gt; Network Receive Time - After Send: 1127 ms\n21:06:20.002 &gt; Command End Time - After Receive: 85 ms\n21:06:20.005 &gt; Total Time from Payload Creation to Command End: 1213 ms\n21:06:20.011 &gt; ---------------------------------\n21:06:24.688 &gt; [HTTP] Raw Commands: NONE\n21:06:24.688 &gt; ---- Network Message Timings ----\n21:06:24.691 &gt; Payload Created At: 3371997 ms\n21:06:24.693 &gt; Network Send Time After Payload Creation: 1 ms\n21:06:24.698 &gt; Network Receive Time - After Send: 728 ms\n21:06:24.701 &gt; Command End Time - After Receive: 184 ms\n21:06:24.704 &gt; Total Time from Payload Creation to Command End: 913 ms\n21:06:24.710 &gt; ---------------------------------\n21:06:29.699 &gt; [HTTP] Raw Commands: NONE\n21:06:29.699 &gt; ---- Network Message Timings ----\n21:06:29.701 &gt; Payload Created At: 3376997 ms\n21:06:29.704 &gt; Network Send Time After Payload Creation: 1 ms\n21:06:29.710 &gt; Network Receive Time - After Send: 867 ms\n21:06:29.713 &gt; Command End Time - After Receive: 56 ms\n21:06:29.715 &gt; Total Time from Payload Creation to Command End: 924 ms\n21:06:29.721 &gt; ---------------------------------\n21:06:34.676 &gt; [HTTP] Raw Commands: NONE\n21:06:34.677 &gt; ---- Network Message Timings ----\n21:06:34.679 &gt; Payload Created At: 3381997 ms\n21:06:34.682 &gt; Network Send Time After Payload Creation: 1 ms\n21:06:34.695 &gt; Network Receive Time - After Send: 685 ms\n21:06:34.695 &gt; Command End Time - After Receive: 215 ms\n21:06:34.695 &gt; Total Time from Payload Creation to Command End: 901 ms\n21:06:34.699 &gt; ---------------------------------\n21:06:40.317 &gt; [HTTP] Raw Commands: NONE\n21:06:40.317 &gt; ---- Network Message Timings ----\n21:06:40.319 &gt; Payload Created At: 3386997 ms\n21:06:40.322 &gt; Network Send Time After Payload Creation: 1 ms\n21:06:40.328 &gt; Network Receive Time - After Send: 1301 ms\n21:06:40.331 &gt; Command End Time - After Receive: 240 ms\n21:06:40.336 &gt; Total Time from Payload Creation to Command End: 1542 ms\n21:06:40.344 &gt; ---------------------------------\n21:06:45.685 &gt; [HTTP] Raw Commands: NONE\n21:06:45.685 &gt; ---- Network Message Timings ----\n21:06:45.687 &gt; Payload Created At: 3391997 ms\n21:06:45.691 &gt; Network Send Time After Payload Creation: 1 ms\n21:06:45.696 &gt; Network Receive Time - After Send: 1715 ms\n21:06:45.699 &gt; Command End Time - After Receive: 194 ms\n21:06:45.704 &gt; Total Time from Payload Creation to Command End: 1910 ms\n21:06:45.707 &gt; ---------------------------------\n21:06:49.461 &gt; [HTTP] Raw Commands: NONE\n21:06:49.462 &gt; ---- Network Message Timings ----\n21:06:49.464 &gt; Payload Created At: 3396997 ms\n21:06:49.467 &gt; Network Send Time After Payload Creation: 1 ms\n21:06:49.473 &gt; Network Receive Time - After Send: 505 ms\n21:06:49.475 &gt; Command End Time - After Receive: 181 ms\n21:06:49.478 &gt; Total Time from Payload Creation to Command End: 687 ms\n21:06:49.484 &gt; ---------------------------------\n21:06:54.694 &gt; [HTTP] Raw Commands: NONE\n21:06:54.694 &gt; ---- Network Message Timings ----\n21:06:54.697 &gt; Payload Created At: 3401997 ms\n21:06:54.700 &gt; Network Send Time After Payload Creation: 1 ms\n21:06:54.704 &gt; Network Receive Time - After Send: 830 ms\n21:06:54.708 &gt; Command End Time - After Receive: 88 ms\n21:06:54.711 &gt; Total Time from Payload Creation to Command End: 919 ms\n21:06:54.716 &gt; ---------------------------------\n21:06:59.568 &gt; [HTTP] Raw Commands: NONE\n21:06:59.568 &gt; ---- Network Message Timings ----\n21:06:59.571 &gt; Payload Created At: 3406997 ms\n21:06:59.574 &gt; Network Send Time After Payload Creation: 1 ms\n21:06:59.579 &gt; Network Receive Time - After Send: 571 ms\n21:06:59.582 &gt; Command End Time - After Receive: 221 ms\n21:06:59.584 &gt; Total Time from Payload Creation to Command End: 793 ms\n21:06:59.590 &gt; ---------------------------------\n21:07:04.439 &gt; [HTTP] Raw Commands: NONE\n21:07:04.439 &gt; ---- Network Message Timings ----\n21:07:04.441 &gt; Payload Created At: 3411997 ms\n21:07:04.444 &gt; Network Send Time After Payload Creation: 1 ms\n21:07:04.450 &gt; Network Receive Time - After Send: 564 ms\n21:07:04.452 &gt; Command End Time - After Receive: 99 ms\n21:07:04.455 &gt; Total Time from Payload Creation to Command End: 664 ms\n21:07:04.461 &gt; ---------------------------------\n21:07:09.946 &gt; [HTTP] Raw Commands: NONE\n21:07:09.947 &gt; ---- Network Message Timings ----\n21:07:09.949 &gt; Payload Created At: 3416997 ms\n21:07:09.952 &gt; Network Send Time After Payload Creation: 1 ms\n21:07:09.957 &gt; Network Receive Time - After Send: 935 ms\n21:07:09.960 &gt; Command End Time - After Receive: 236 ms\n21:07:09.964 &gt; Total Time from Payload Creation to Command End: 1172 ms\n21:07:09.969 &gt; ---------------------------------\n21:07:14.499 &gt; [HTTP] Raw Commands: NONE\n21:07:14.499 &gt; ---- Network Message Timings ----\n21:07:14.502 &gt; Payload Created At: 3421997 ms\n21:07:14.504 &gt; Network Send Time After Payload Creation: 1 ms\n21:07:14.510 &gt; Network Receive Time - After Send: 465 ms\n21:07:14.513 &gt; Command End Time - After Receive: 258 ms\n21:07:14.516 &gt; Total Time from Payload Creation to Command End: 724 ms\n21:07:14.521 &gt; ---------------------------------\n21:07:19.716 &gt; [HTTP] Raw Commands: NONE\n21:07:19.716 &gt; ---- Network Message Timings ----\n21:07:19.719 &gt; Payload Created At: 3426997 ms\n21:07:19.721 &gt; Network Send Time After Payload Creation: 1 ms\n21:07:19.726 &gt; Network Receive Time - After Send: 742 ms\n21:07:19.729 &gt; Command End Time - After Receive: 197 ms\n21:07:19.732 &gt; Total Time from Payload Creation to Command End: 940 ms\n21:07:19.737 &gt; ---------------------------------\n21:07:24.489 &gt; [HTTP] Raw Commands: NONE\n21:07:24.489 &gt; ---- Network Message Timings ----\n21:07:24.492 &gt; Payload Created At: 3431997 ms\n21:07:24.495 &gt; Network Send Time After Payload Creation: 1 ms\n21:07:24.500 &gt; Network Receive Time - After Send: 534 ms\n21:07:24.503 &gt; Command End Time - After Receive: 179 ms\n21:07:24.506 &gt; Total Time from Payload Creation to Command End: 714 ms\n21:07:24.511 &gt; ---------------------------------\n21:07:29.467 &gt; [HTTP] Raw Commands: NONE\n21:07:29.467 &gt; ---- Network Message Timings ----\n21:07:29.470 &gt; Payload Created At: 3436997 ms\n21:07:29.473 &gt; Network Send Time After Payload Creation: 1 ms\n21:07:29.478 &gt; Network Receive Time - After Send: 625 ms\n21:07:29.481 &gt; Command End Time - After Receive: 67 ms\n21:07:29.484 &gt; Total Time from Payload Creation to Command End: 693 ms\n21:07:29.489 &gt; ---------------------------------\n21:07:34.718 &gt; [HTTP] Raw Commands: NONE\n21:07:34.718 &gt; ---- Network Message Timings ----\n21:07:34.721 &gt; Payload Created At: 3441997 ms\n21:07:34.724 &gt; Network Send Time After Payload Creation: 1 ms\n21:07:34.729 &gt; Network Receive Time - After Send: 664 ms\n21:07:34.732 &gt; Command End Time - After Receive: 278 ms\n21:07:34.735 &gt; Total Time from Payload Creation to Command End: 943 ms\n21:07:34.739 &gt; ---------------------------------\n21:07:39.447 &gt; [HTTP] Raw Commands: NONE\n21:07:39.447 &gt; ---- Network Message Timings ----\n21:07:39.450 &gt; Payload Created At: 3446997 ms\n21:07:39.453 &gt; Network Send Time After Payload Creation: 1 ms\n21:07:39.458 &gt; Network Receive Time - After Send: 574 ms\n21:07:39.461 &gt; Command End Time - After Receive: 98 ms\n21:07:39.464 &gt; Total Time from Payload Creation to Command End: 673 ms\n21:07:39.470 &gt; ---------------------------------\n21:07:44.462 &gt; [HTTP] Raw Commands: NONE\n21:07:44.462 &gt; ---- Network Message Timings ----\n21:07:44.464 &gt; Payload Created At: 3451997 ms\n21:07:44.467 &gt; Network Send Time After Payload Creation: 1 ms\n21:07:44.473 &gt; Network Receive Time - After Send: 465 ms\n21:07:44.476 &gt; Command End Time - After Receive: 221 ms\n21:07:44.478 &gt; Total Time from Payload Creation to Command End: 687 ms\n21:07:44.484 &gt; ---------------------------------\n21:07:49.706 &gt; [HTTP] Raw Commands: NONE\n21:07:49.706 &gt; ---- Network Message Timings ----\n21:07:49.709 &gt; Payload Created At: 3456997 ms\n21:07:49.711 &gt; Network Send Time After Payload Creation: 1 ms\n21:07:49.717 &gt; Network Receive Time - After Send: 828 ms\n21:07:49.720 &gt; Command End Time - After Receive: 102 ms\n21:07:49.722 &gt; Total Time from Payload Creation to Command End: 931 ms\n21:07:49.727 &gt; ---------------------------------\n21:07:54.232 &gt; [HTTP] Raw Commands: NONE\n21:07:54.233 &gt; ---- Network Message Timings ----\n21:07:54.235 &gt; Payload Created At: 3461997 ms\n21:07:54.238 &gt; Network Send Time After Payload Creation: 1 ms\n21:07:54.244 &gt; Network Receive Time - After Send: 408 ms\n21:07:54.246 &gt; Command End Time - After Receive: 49 ms\n21:07:54.249 &gt; Total Time from Payload Creation to Command End: 458 ms\n21:07:54.255 &gt; ---------------------------------\n21:07:59.259 &gt; [HTTP] Raw Commands: NONE\n21:07:59.259 &gt; ---- Network Message Timings ----\n21:07:59.262 &gt; Payload Created At: 3466997 ms\n21:07:59.265 &gt; Network Send Time After Payload Creation: 1 ms\n21:07:59.270 &gt; Network Receive Time - After Send: 270 ms\n21:07:59.273 &gt; Command End Time - After Receive: 214 ms\n21:07:59.276 &gt; Total Time from Payload Creation to Command End: 485 ms\n21:07:59.282 &gt; ---------------------------------\n21:08:04.220 &gt; [HTTP] Raw Commands: NONE\n21:08:04.220 &gt; ---- Network Message Timings ----\n21:08:04.223 &gt; Payload Created At: 3471997 ms\n21:08:04.227 &gt; Network Send Time After Payload Creation: 1 ms\n21:08:04.232 &gt; Network Receive Time - After Send: 226 ms\n21:08:04.235 &gt; Command End Time - After Receive: 219 ms\n21:08:04.237 &gt; Total Time from Payload Creation to Command End: 446 ms\n21:08:04.243 &gt; ---------------------------------\n21:08:09.470 &gt; [HTTP] Raw Commands: NONE\n21:08:09.470 &gt; ---- Network Message Timings ----\n21:08:09.473 &gt; Payload Created At: 3476997 ms\n21:08:09.476 &gt; Network Send Time After Payload Creation: 1 ms\n21:08:09.482 &gt; Network Receive Time - After Send: 625 ms\n21:08:09.484 &gt; Command End Time - After Receive: 69 ms\n21:08:09.487 &gt; Total Time from Payload Creation to Command End: 695 ms\n21:08:09.492 &gt; ---------------------------------\n21:08:14.225 &gt; [HTTP] Raw Commands: NONE\n21:08:14.225 &gt; ---- Network Message Timings ----\n21:08:14.227 &gt; Payload Created At: 3481997 ms\n21:08:14.230 &gt; Network Send Time After Payload Creation: 1 ms\n21:08:14.236 &gt; Network Receive Time - After Send: 407 ms\n21:08:14.238 &gt; Command End Time - After Receive: 42 ms\n21:08:14.242 &gt; Total Time from Payload Creation to Command End: 450 ms\n21:08:14.247 &gt; ---------------------------------\n21:08:19.491 &gt; [HTTP] Raw Commands: NONE\n21:08:19.491 &gt; ---- Network Message Timings ----\n21:08:19.494 &gt; Payload Created At: 3486997 ms\n21:08:19.497 &gt; Network Send Time After Payload Creation: 1 ms\n21:08:19.502 &gt; Network Receive Time - After Send: 515 ms\n21:08:19.505 &gt; Command End Time - After Receive: 201 ms\n21:08:19.508 &gt; Total Time from Payload Creation to Command End: 717 ms\n21:08:19.513 &gt; ---------------------------------\n21:08:24.215 &gt; [HTTP] Raw Commands: NONE\n21:08:24.216 &gt; ---- Network Message Timings ----\n21:08:24.218 &gt; Payload Created At: 3491997 ms\n21:08:24.220 &gt; Network Send Time After Payload Creation: 1 ms\n21:08:24.227 &gt; Network Receive Time - After Send: 430 ms\n21:08:24.230 &gt; Command End Time - After Receive: 9 ms\n21:08:24.233 &gt; Total Time from Payload Creation to Command End: 440 ms\n21:08:24.238 &gt; ---------------------------------\n21:08:29.764 &gt; [HTTP] Raw Commands: NONE\n21:08:29.765 &gt; ---- Network Message Timings ----\n21:08:29.767 &gt; Payload Created At: 3496997 ms\n21:08:29.770 &gt; Network Send Time After Payload Creation: 1 ms\n21:08:29.775 &gt; Network Receive Time - After Send: 799 ms\n21:08:29.778 &gt; Command End Time - After Receive: 190 ms\n21:08:29.781 &gt; Total Time from Payload Creation to Command End: 990 ms\n21:08:29.787 &gt; ---------------------------------\n21:08:34.491 &gt; [HTTP] Raw Commands: NONE\n21:08:34.493 &gt; ---- Network Message Timings ----\n21:08:34.496 &gt; Payload Created At: 3501997 ms\n21:08:34.498 &gt; Network Send Time After Payload Creation: 1 ms\n21:08:34.501 &gt; Network Receive Time - After Send: 511 ms\n21:08:34.504 &gt; Command End Time - After Receive: 203 ms\n21:08:34.510 &gt; Total Time from Payload Creation to Command End: 715 ms\n21:08:34.513 &gt; ---------------------------------\n21:08:39.480 &gt; [HTTP] Raw Commands: NONE\n21:08:39.480 &gt; ---- Network Message Timings ----\n21:08:39.483 &gt; Payload Created At: 3506997 ms\n21:08:39.485 &gt; Network Send Time After Payload Creation: 1 ms\n21:08:39.491 &gt; Network Receive Time - After Send: 515 ms\n21:08:39.494 &gt; Command End Time - After Receive: 189 ms\n21:08:39.497 &gt; Total Time from Payload Creation to Command End: 705 ms\n21:08:39.502 &gt; ---------------------------------\n21:08:44.902 &gt; [HTTP] Raw Commands: NONE\n21:08:44.902 &gt; ---- Network Message Timings ----\n21:08:44.905 &gt; Payload Created At: 3511997 ms\n21:08:44.907 &gt; Network Send Time After Payload Creation: 1 ms\n21:08:44.914 &gt; Network Receive Time - After Send: 929 ms\n21:08:44.917 &gt; Command End Time - After Receive: 197 ms\n21:08:44.920 &gt; Total Time from Payload Creation to Command End: 1127 ms\n21:08:44.926 &gt; ---------------------------------\n21:08:49.508 &gt; [HTTP] Raw Commands: NONE\n21:08:49.509 &gt; ---- Network Message Timings ----\n21:08:49.511 &gt; Payload Created At: 3516997 ms\n21:08:49.514 &gt; Network Send Time After Payload Creation: 1 ms\n21:08:49.520 &gt; Network Receive Time - After Send: 532 ms\n21:08:49.522 &gt; Command End Time - After Receive: 201 ms\n21:08:49.525 &gt; Total Time from Payload Creation to Command End: 734 ms\n21:08:49.531 &gt; ---------------------------------\n21:08:57.567 &gt; [HTTP] Raw Commands: NONE\n21:08:57.567 &gt; ---- Network Message Timings ----\n21:08:57.570 &gt; Payload Created At: 3521997 ms\n21:08:57.574 &gt; Network Send Time After Payload Creation: 1 ms\n21:08:57.579 &gt; Network Receive Time - After Send: 3448 ms\n21:08:57.582 &gt; Command End Time - After Receive: 343 ms\n21:08:57.588 &gt; Total Time from Payload Creation to Command End: 3792 ms\n21:08:57.590 &gt; ---------------------------------\n21:08:59.750 &gt; [HTTP] Raw Commands: NONE\n21:08:59.750 &gt; ---- Network Message Timings ----\n21:08:59.753 &gt; Payload Created At: 3526997 ms\n21:08:59.756 &gt; Network Send Time After Payload Creation: 1 ms\n21:08:59.761 &gt; Network Receive Time - After Send: 914 ms\n21:08:59.764 &gt; Command End Time - After Receive: 60 ms\n21:08:59.767 &gt; Total Time from Payload Creation to Command End: 975 ms\n21:08:59.772 &gt; ---------------------------------\n21:09:04.270 &gt; [HTTP] Raw Commands: NONE\n21:09:04.270 &gt; ---- Network Message Timings ----\n21:09:04.273 &gt; Payload Created At: 3531997 ms\n21:09:04.276 &gt; Network Send Time After Payload Creation: 1 ms\n21:09:04.281 &gt; Network Receive Time - After Send: 365 ms\n21:09:04.284 &gt; Command End Time - After Receive: 130 ms\n21:09:04.287 &gt; Total Time from Payload Creation to Command End: 496 ms\n21:09:04.292 &gt; ---------------------------------\n21:09:09.228 &gt; [HTTP] Raw Commands: NONE\n21:09:09.228 &gt; ---- Network Message Timings ----\n21:09:09.231 &gt; Payload Created At: 3536997 ms\n21:09:09.233 &gt; Network Send Time After Payload Creation: 1 ms\n21:09:09.239 &gt; Network Receive Time - After Send: 421 ms\n21:09:09.242 &gt; Command End Time - After Receive: 31 ms\n21:09:09.245 &gt; Total Time from Payload Creation to Command End: 453 ms\n21:09:09.250 &gt; ---------------------------------\n21:09:14.749 &gt; [HTTP] Raw Commands: NONE\n21:09:14.749 &gt; ---- Network Message Timings ----\n21:09:14.751 &gt; Payload Created At: 3541997 ms\n21:09:14.754 &gt; Network Send Time After Payload Creation: 1 ms\n21:09:14.759 &gt; Network Receive Time - After Send: 716 ms\n21:09:14.762 &gt; Command End Time - After Receive: 256 ms\n21:09:14.765 &gt; Total Time from Payload Creation to Command End: 973 ms\n21:09:14.771 &gt; ---------------------------------\n21:09:19.730 &gt; [HTTP] Raw Commands: NONE\n21:09:19.734 &gt; ---- Network Message Timings ----\n21:09:19.737 &gt; Payload Created At: 3546997 ms\n21:09:19.740 &gt; Network Send Time After Payload Creation: 1 ms\n21:09:19.743 &gt; Network Receive Time - After Send: 735 ms\n21:09:19.745 &gt; Command End Time - After Receive: 218 ms\n21:09:19.751 &gt; Total Time from Payload Creation to Command End: 954 ms\n21:09:19.754 &gt; ---------------------------------\n21:09:24.232 &gt; [HTTP] Raw Commands: NONE\n21:09:24.232 &gt; ---- Network Message Timings ----\n21:09:24.235 &gt; Payload Created At: 3551997 ms\n21:09:24.238 &gt; Network Send Time After Payload Creation: 1 ms\n21:09:24.244 &gt; Network Receive Time - After Send: 232 ms\n21:09:24.247 &gt; Command End Time - After Receive: 224 ms\n21:09:24.249 &gt; Total Time from Payload Creation to Command End: 457 ms\n21:09:24.255 &gt; ---------------------------------\n21:09:29.232 &gt; [HTTP] Raw Commands: NONE\n21:09:29.233 &gt; ---- Network Message Timings ----\n21:09:29.235 &gt; Payload Created At: 3556997 ms\n21:09:29.238 &gt; Network Send Time After Payload Creation: 1 ms\n21:09:29.243 &gt; Network Receive Time - After Send: 296 ms\n21:09:29.246 &gt; Command End Time - After Receive: 161 ms\n21:09:29.249 &gt; Total Time from Payload Creation to Command End: 458 ms\n21:09:29.255 &gt; ---------------------------------\n21:09:34.000 &gt; [HTTP] Raw Commands: NONE\n21:09:34.000 &gt; ---- Network Message Timings ----\n21:09:34.003 &gt; Payload Created At: 3561997 ms\n21:09:34.006 &gt; Network Send Time After Payload Creation: 1 ms\n21:09:34.011 &gt; Network Receive Time - After Send: 208 ms\n21:09:34.014 &gt; Command End Time - After Receive: 17 ms\n21:09:34.017 &gt; Total Time from Payload Creation to Command End: 226 ms\n21:09:34.022 &gt; ---------------------------------\n21:09:39.752 &gt; [HTTP] Raw Commands: NONE\n21:09:39.752 &gt; ---- Network Message Timings ----\n21:09:39.754 &gt; Payload Created At: 3566997 ms\n21:09:39.757 &gt; Network Send Time After Payload Creation: 1 ms\n21:09:39.762 &gt; Network Receive Time - After Send: 785 ms\n21:09:39.765 &gt; Command End Time - After Receive: 191 ms\n21:09:39.768 &gt; Total Time from Payload Creation to Command End: 977 ms\n21:09:39.773 &gt; ---------------------------------\n21:09:44.267 &gt; [HTTP] Raw Commands: NONE\n21:09:44.267 &gt; ---- Network Message Timings ----\n21:09:44.270 &gt; Payload Created At: 3571997 ms\n21:09:44.273 &gt; Network Send Time After Payload Creation: 1 ms\n21:09:44.278 &gt; Network Receive Time - After Send: 334 ms\n21:09:44.281 &gt; Command End Time - After Receive: 157 ms\n21:09:44.284 &gt; Total Time from Payload Creation to Command End: 492 ms\n21:09:44.290 &gt; ---------------------------------\n21:09:49.285 &gt; [HTTP] Raw Commands: NONE\n21:09:49.285 &gt; ---- Network Message Timings ----\n21:09:49.288 &gt; Payload Created At: 3576997 ms\n21:09:49.290 &gt; Network Send Time After Payload Creation: 1 ms\n21:09:49.296 &gt; Network Receive Time - After Send: 414 ms\n21:09:49.299 &gt; Command End Time - After Receive: 96 ms\n21:09:49.302 &gt; Total Time from Payload Creation to Command End: 511 ms\n21:09:49.307 &gt; ---------------------------------\n21:09:54.496 &gt; [HTTP] Raw Commands: NONE\n21:09:54.496 &gt; ---- Network Message Timings ----\n21:09:54.499 &gt; Payload Created At: 3581997 ms\n21:09:54.502 &gt; Network Send Time After Payload Creation: 1 ms\n21:09:54.507 &gt; Network Receive Time - After Send: 553 ms\n21:09:54.510 &gt; Command End Time - After Receive: 167 ms\n21:09:54.513 &gt; Total Time from Payload Creation to Command End: 721 ms\n21:09:54.519 &gt; ---------------------------------\n21:09:59.059 &gt; [HTTP] Raw Commands: NONE\n21:09:59.059 &gt; ---- Network Message Timings ----\n21:09:59.062 &gt; Payload Created At: 3586997 ms\n21:09:59.065 &gt; Network Send Time After Payload Creation: 1 ms\n21:09:59.070 &gt; Network Receive Time - After Send: 163 ms\n21:09:59.073 &gt; Command End Time - After Receive: 121 ms\n21:09:59.076 &gt; Total Time from Payload Creation to Command End: 285 ms\n21:09:59.082 &gt; ---------------------------------\n21:10:04.263 &gt; [HTTP] Raw Commands: NONE\n21:10:04.263 &gt; ---- Network Message Timings ----\n21:10:04.266 &gt; Payload Created At: 3591997 ms\n21:10:04.268 &gt; Network Send Time After Payload Creation: 1 ms\n21:10:04.274 &gt; Network Receive Time - After Send: 229 ms\n21:10:04.276 &gt; Command End Time - After Receive: 258 ms\n21:10:04.279 &gt; Total Time from Payload Creation to Command End: 488 ms\n21:10:04.285 &gt; ---------------------------------\n21:10:09.511 &gt; [HTTP] Raw Commands: NONE\n21:10:09.511 &gt; ---- Network Message Timings ----\n21:10:09.514 &gt; Payload Created At: 3596997 ms\n21:10:09.517 &gt; Network Send Time After Payload Creation: 1 ms\n21:10:09.523 &gt; Network Receive Time - After Send: 554 ms\n21:10:09.526 &gt; Command End Time - After Receive: 182 ms\n21:10:09.528 &gt; Total Time from Payload Creation to Command End: 737 ms\n21:10:09.534 &gt; ---------------------------------\n21:10:14.754 &gt; [HTTP] Raw Commands: NONE\n21:10:14.754 &gt; ---- Network Message Timings ----\n21:10:14.757 &gt; Payload Created At: 3601997 ms\n21:10:14.759 &gt; Network Send Time After Payload Creation: 1 ms\n21:10:14.765 &gt; Network Receive Time - After Send: 732 ms\n21:10:14.768 &gt; Command End Time - After Receive: 246 ms\n21:10:14.771 &gt; Total Time from Payload Creation to Command End: 979 ms\n21:10:14.776 &gt; ---------------------------------\n21:10:19.003 &gt; [HTTP] Raw Commands: NONE\n21:10:19.003 &gt; ---- Network Message Timings ----\n21:10:19.006 &gt; Payload Created At: 3606997 ms\n21:10:19.009 &gt; Network Send Time After Payload Creation: 1 ms\n21:10:19.014 &gt; Network Receive Time - After Send: 156 ms\n21:10:19.017 &gt; Command End Time - After Receive: 71 ms\n21:10:19.020 &gt; Total Time from Payload Creation to Command End: 228 ms\n21:10:19.025 &gt; ---------------------------------\n21:10:25.535 &gt; [HTTP] Raw Commands: NONE\n21:10:25.535 &gt; ---- Network Message Timings ----\n21:10:25.537 &gt; Payload Created At: 3611997 ms\n21:10:25.540 &gt; Network Send Time After Payload Creation: 1 ms\n21:10:25.546 &gt; Network Receive Time - After Send: 909 ms\n21:10:25.549 &gt; Command End Time - After Receive: 850 ms\n21:10:25.552 &gt; Total Time from Payload Creation to Command End: 1760 ms\n21:10:25.557 &gt; ---------------------------------\n21:10:29.299 &gt; [HTTP] Raw Commands: NONE\n21:10:29.300 &gt; ---- Network Message Timings ----\n21:10:29.302 &gt; Payload Created At: 3616997 ms\n21:10:29.305 &gt; Network Send Time After Payload Creation: 1 ms\n21:10:29.311 &gt; Network Receive Time - After Send: 470 ms\n21:10:29.313 &gt; Command End Time - After Receive: 54 ms\n21:10:29.316 &gt; Total Time from Payload Creation to Command End: 525 ms\n21:10:29.322 &gt; ---------------------------------\n21:10:34.784 &gt; [HTTP] Raw Commands: NONE\n21:10:34.785 &gt; ---- Network Message Timings ----\n21:10:34.787 &gt; Payload Created At: 3621997 ms\n21:10:34.790 &gt; Network Send Time After Payload Creation: 1 ms\n21:10:34.796 &gt; Network Receive Time - After Send: 842 ms\n21:10:34.798 &gt; Command End Time - After Receive: 166 ms\n21:10:34.801 &gt; Total Time from Payload Creation to Command End: 1009 ms\n21:10:34.806 &gt; ---------------------------------\n21:10:40.432 &gt; [HTTP] Raw Commands: NONE\n21:10:40.432 &gt; ---- Network Message Timings ----\n21:10:40.435 &gt; Payload Created At: 3626997 ms\n21:10:40.437 &gt; Network Send Time After Payload Creation: 1 ms\n21:10:40.442 &gt; Network Receive Time - After Send: 1418 ms\n21:10:40.446 &gt; Command End Time - After Receive: 238 ms\n21:10:40.451 &gt; Total Time from Payload Creation to Command End: 1657 ms\n21:10:40.453 &gt; ---------------------------------\n21:10:45.324 &gt; [HTTP] Raw Commands: NONE\n21:10:45.325 &gt; ---- Network Message Timings ----\n21:10:45.327 &gt; Payload Created At: 3631997 ms\n21:10:45.330 &gt; Network Send Time After Payload Creation: 1 ms\n21:10:45.336 &gt; Network Receive Time - After Send: 1441 ms\n21:10:45.338 &gt; Command End Time - After Receive: 107 ms\n21:10:45.344 &gt; Total Time from Payload Creation to Command End: 1549 ms\n21:10:45.347 &gt; ---------------------------------\n21:10:49.829 &gt; [HTTP] Raw Commands: NONE\n21:10:49.829 &gt; ---- Network Message Timings ----\n21:10:49.832 &gt; Payload Created At: 3636997 ms\n21:10:49.834 &gt; Network Send Time After Payload Creation: 1 ms\n21:10:49.840 &gt; Network Receive Time - After Send: 940 ms\n21:10:49.843 &gt; Command End Time - After Receive: 113 ms\n21:10:49.845 &gt; Total Time from Payload Creation to Command End: 1054 ms\n21:10:49.851 &gt; ---------------------------------\n21:10:54.286 &gt; [HTTP] Raw Commands: NONE\n21:10:54.286 &gt; ---- Network Message Timings ----\n21:10:54.288 &gt; Payload Created At: 3641997 ms\n21:10:54.291 &gt; Network Send Time After Payload Creation: 1 ms\n21:10:54.297 &gt; Network Receive Time - After Send: 477 ms\n21:10:54.300 &gt; Command End Time - After Receive: 33 ms\n21:10:54.302 &gt; Total Time from Payload Creation to Command End: 511 ms\n21:10:54.308 &gt; ---------------------------------\n21:11:00.039 &gt; [HTTP] Raw Commands: NONE\n21:11:00.039 &gt; ---- Network Message Timings ----\n21:11:00.042 &gt; Payload Created At: 3646997 ms\n21:11:00.045 &gt; Network Send Time After Payload Creation: 1 ms\n21:11:00.050 &gt; Network Receive Time - After Send: 1107 ms\n21:11:00.053 &gt; Command End Time - After Receive: 156 ms\n21:11:00.058 &gt; Total Time from Payload Creation to Command End: 1264 ms\n21:11:00.061 &gt; ---------------------------------\n21:11:04.977 &gt; [HTTP] Raw Commands: NONE\n21:11:04.977 &gt; ---- Network Message Timings ----\n21:11:04.979 &gt; Payload Created At: 3651997 ms\n21:11:04.982 &gt; Network Send Time After Payload Creation: 1 ms\n21:11:04.995 &gt; Network Receive Time - After Send: 943 ms\n21:11:04.995 &gt; Command End Time - After Receive: 258 ms\n21:11:04.995 &gt; Total Time from Payload Creation to Command End: 1202 ms\n21:11:04.999 &gt; ---------------------------------\n21:11:09.836 &gt; [HTTP] Raw Commands: NONE\n21:11:09.837 &gt; ---- Network Message Timings ----\n21:11:09.839 &gt; Payload Created At: 3656997 ms\n21:11:09.842 &gt; Network Send Time After Payload Creation: 1 ms\n21:11:09.848 &gt; Network Receive Time - After Send: 913 ms\n21:11:09.850 &gt; Command End Time - After Receive: 148 ms\n21:11:09.853 &gt; Total Time from Payload Creation to Command End: 1062 ms\n21:11:09.859 &gt; ---------------------------------\n21:11:14.838 &gt; [HTTP] Raw Commands: NONE\n21:11:14.838 &gt; ---- Network Message Timings ----\n21:11:14.841 &gt; Payload Created At: 3661997 ms\n21:11:14.843 &gt; Network Send Time After Payload Creation: 1 ms\n21:11:14.849 &gt; Network Receive Time - After Send: 776 ms\n21:11:14.851 &gt; Command End Time - After Receive: 286 ms\n21:11:14.854 &gt; Total Time from Payload Creation to Command End: 1063 ms\n21:11:14.859 &gt; ---------------------------------\n21:11:20.885 &gt; [HTTP] Raw Commands: NONE\n21:11:20.886 &gt; ---- Network Message Timings ----\n21:11:20.889 &gt; Payload Created At: 3666997 ms\n21:11:20.891 &gt; Network Send Time After Payload Creation: 1 ms\n21:11:20.897 &gt; Network Receive Time - After Send: 1824 ms\n21:11:20.899 &gt; Command End Time - After Receive: 286 ms\n21:11:20.905 &gt; Total Time from Payload Creation to Command End: 2111 ms\n21:11:20.910 &gt; ---------------------------------\n21:11:28.831 &gt; [HTTP] Error: read Timeout\n21:11:28.831 &gt; ---- Network Message Timings ----\n21:11:28.834 &gt; Payload Created At: 3671997 ms\n21:11:28.836 &gt; Network Send Time After Payload Creation: 1 ms\n21:11:28.842 &gt; Network Receive Time - After Send: 5054 ms\n21:11:28.849 &gt; Command End Time - After Receive: 0 ms\n21:11:28.849 &gt; Total Time from Payload Creation to Command End: 5055 ms\n21:11:28.852 &gt; ---------------------------------\n21:11:31.321 &gt; [HTTP] Raw Commands: NONE\n21:11:31.321 &gt; ---- Network Message Timings ----\n21:11:31.324 &gt; Payload Created At: 3677091 ms\n21:11:31.326 &gt; Network Send Time After Payload Creation: 1 ms\n21:11:31.332 &gt; Network Receive Time - After Send: 2159 ms\n21:11:31.335 &gt; Command End Time - After Receive: 292 ms\n21:11:31.340 &gt; Total Time from Payload Creation to Command End: 2452 ms\n21:11:31.343 &gt; ---------------------------------\n21:11:35.894 &gt; [HTTP] Raw Commands: NONE\n21:11:35.894 &gt; ---- Network Message Timings ----\n21:11:35.897 &gt; Payload Created At: 3682091 ms\n21:11:35.900 &gt; Network Send Time After Payload Creation: 1 ms\n21:11:35.904 &gt; Network Receive Time - After Send: 1652 ms\n21:11:35.907 &gt; Command End Time - After Receive: 372 ms\n21:11:35.914 &gt; Total Time from Payload Creation to Command End: 2025 ms\n21:11:35.916 &gt; ---------------------------------\n21:11:39.365 &gt; [HTTP] Raw Commands: NONE\n21:11:39.365 &gt; ---- Network Message Timings ----\n21:11:39.367 &gt; Payload Created At: 3687091 ms\n21:11:39.370 &gt; Network Send Time After Payload Creation: 1 ms\n21:11:39.375 &gt; Network Receive Time - After Send: 307 ms\n21:11:39.378 &gt; Command End Time - After Receive: 188 ms\n21:11:39.381 &gt; Total Time from Payload Creation to Command End: 496 ms\n21:11:39.386 &gt; ---------------------------------\n21:11:44.705 &gt; [HTTP] Raw Commands: NONE\n21:11:44.705 &gt; ---- Network Message Timings ----\n21:11:44.708 &gt; Payload Created At: 3692091 ms\n21:11:44.712 &gt; Network Send Time After Payload Creation: 1 ms\n21:11:44.717 &gt; Network Receive Time - After Send: 546 ms\n21:11:44.720 &gt; Command End Time - After Receive: 290 ms\n21:11:44.722 &gt; Total Time from Payload Creation to Command End: 837 ms\n21:11:44.728 &gt; ---------------------------------\n21:11:49.553 &gt; [HTTP] Raw Commands: NONE\n21:11:49.553 &gt; ---- Network Message Timings ----\n21:11:49.555 &gt; Payload Created At: 3697091 ms\n21:11:49.559 &gt; Network Send Time After Payload Creation: 1 ms\n21:11:49.564 &gt; Network Receive Time - After Send: 406 ms\n21:11:49.567 &gt; Command End Time - After Receive: 277 ms\n21:11:49.570 &gt; Total Time from Payload Creation to Command End: 684 ms\n21:11:49.575 &gt; ---------------------------------\n21:11:54.711 &gt; [HTTP] Raw Commands: NONE\n21:11:54.712 &gt; ---- Network Message Timings ----\n21:11:54.714 &gt; Payload Created At: 3702091 ms\n21:11:54.717 &gt; Network Send Time After Payload Creation: 1 ms\n21:11:54.722 &gt; Network Receive Time - After Send: 581 ms\n21:11:54.725 &gt; Command End Time - After Receive: 260 ms\n21:11:54.728 &gt; Total Time from Payload Creation to Command End: 842 ms\n21:11:54.734 &gt; ---------------------------------\n21:11:59.945 &gt; [HTTP] Raw Commands: NONE\n21:11:59.945 &gt; ---- Network Message Timings ----\n21:11:59.948 &gt; Payload Created At: 3707091 ms\n21:11:59.951 &gt; Network Send Time After Payload Creation: 1 ms\n21:11:59.955 &gt; Network Receive Time - After Send: 769 ms\n21:11:59.958 &gt; Command End Time - After Receive: 306 ms\n21:11:59.961 &gt; Total Time from Payload Creation to Command End: 1076 ms\n21:11:59.966 &gt; ---------------------------------\n21:12:04.597 &gt; [HTTP] Raw Commands: NONE\n21:12:04.597 &gt; ---- Network Message Timings ----\n21:12:04.599 &gt; Payload Created At: 3712091 ms\n21:12:04.602 &gt; Network Send Time After Payload Creation: 1 ms\n21:12:04.607 &gt; Network Receive Time - After Send: 426 ms\n21:12:04.610 &gt; Command End Time - After Receive: 301 ms\n21:12:04.614 &gt; Total Time from Payload Creation to Command End: 728 ms\n21:12:04.619 &gt; ---------------------------------\n21:12:10.414 &gt; [HTTP] Raw Commands: NONE\n21:12:10.414 &gt; ---- Network Message Timings ----\n21:12:10.417 &gt; Payload Created At: 3717091 ms\n21:12:10.420 &gt; Network Send Time After Payload Creation: 1 ms\n21:12:10.425 &gt; Network Receive Time - After Send: 1336 ms\n21:12:10.428 &gt; Command End Time - After Receive: 208 ms\n21:12:10.433 &gt; Total Time from Payload Creation to Command End: 1545 ms\n21:12:10.436 &gt; ---------------------------------\n21:12:14.869 &gt; [HTTP] Raw Commands: NONE\n21:12:14.869 &gt; ---- Network Message Timings ----\n21:12:14.871 &gt; Payload Created At: 3722091 ms\n21:12:14.875 &gt; Network Send Time After Payload Creation: 1 ms\n21:12:14.880 &gt; Network Receive Time - After Send: 767 ms\n21:12:14.883 &gt; Command End Time - After Receive: 232 ms\n21:12:14.886 &gt; Total Time from Payload Creation to Command End: 1000 ms\n21:12:14.891 &gt; ---------------------------------\n21:12:19.306 &gt; [HTTP] Raw Commands: NONE\n21:12:19.306 &gt; ---- Network Message Timings ----\n21:12:19.308 &gt; Payload Created At: 3727091 ms\n21:12:19.311 &gt; Network Send Time After Payload Creation: 1 ms\n21:12:19.316 &gt; Network Receive Time - After Send: 233 ms\n21:12:19.320 &gt; Command End Time - After Receive: 203 ms\n21:12:19.322 &gt; Total Time from Payload Creation to Command End: 437 ms\n21:12:19.328 &gt; ---------------------------------\n21:12:24.796 &gt; [HTTP] Raw Commands: NONE\n21:12:24.796 &gt; ---- Network Message Timings ----\n21:12:24.798 &gt; Payload Created At: 3732091 ms\n21:12:24.801 &gt; Network Send Time After Payload Creation: 1 ms\n21:12:24.806 &gt; Network Receive Time - After Send: 672 ms\n21:12:24.809 &gt; Command End Time - After Receive: 254 ms\n21:12:24.812 &gt; Total Time from Payload Creation to Command End: 927 ms\n21:12:24.817 &gt; ---------------------------------\n21:12:29.731 &gt; [HTTP] Raw Commands: NONE\n21:12:29.731 &gt; ---- Network Message Timings ----\n21:12:29.734 &gt; Payload Created At: 3737091 ms\n21:12:29.737 &gt; Network Send Time After Payload Creation: 1 ms\n21:12:29.742 &gt; Network Receive Time - After Send: 619 ms\n21:12:29.745 &gt; Command End Time - After Receive: 243 ms\n21:12:29.748 &gt; Total Time from Payload Creation to Command End: 863 ms\n21:12:29.753 &gt; ---------------------------------\n21:12:34.828 &gt; [HTTP] Raw Commands: NONE\n21:12:34.829 &gt; ---- Network Message Timings ----\n21:12:34.831 &gt; Payload Created At: 3742091 ms\n21:12:34.834 &gt; Network Send Time After Payload Creation: 1 ms\n21:12:34.840 &gt; Network Receive Time - After Send: 912 ms\n21:12:34.842 &gt; Command End Time - After Receive: 47 ms\n21:12:34.845 &gt; Total Time from Payload Creation to Command End: 960 ms\n21:12:34.851 &gt; ---------------------------------\n21:12:40.335 &gt; [HTTP] Raw Commands: NONE\n21:12:40.335 &gt; ---- Network Message Timings ----\n21:12:40.337 &gt; Payload Created At: 3747091 ms\n21:12:40.340 &gt; Network Send Time After Payload Creation: 1 ms\n21:12:40.345 &gt; Network Receive Time - After Send: 1246 ms\n21:12:40.349 &gt; Command End Time - After Receive: 219 ms\n21:12:40.354 &gt; Total Time from Payload Creation to Command End: 1466 ms\n21:12:40.358 &gt; ---------------------------------\n21:12:45.231 &gt; [HTTP] Raw Commands: NONE\n21:12:45.231 &gt; ---- Network Message Timings ----\n21:12:45.234 &gt; Payload Created At: 3752091 ms\n21:12:45.237 &gt; Network Send Time After Payload Creation: 1 ms\n21:12:45.242 &gt; Network Receive Time - After Send: 695 ms\n21:12:45.245 &gt; Command End Time - After Receive: 666 ms\n21:12:45.248 &gt; Total Time from Payload Creation to Command End: 1362 ms\n21:12:45.253 &gt; ---------------------------------\n21:12:50.096 &gt; [HTTP] Raw Commands: NONE\n21:12:50.096 &gt; ---- Network Message Timings ----\n21:12:50.099 &gt; Payload Created At: 3757091 ms\n21:12:50.101 &gt; Network Send Time After Payload Creation: 1 ms\n21:12:50.107 &gt; Network Receive Time - After Send: 1150 ms\n21:12:50.110 &gt; Command End Time - After Receive: 76 ms\n21:12:50.113 &gt; Total Time from Payload Creation to Command End: 1227 ms\n21:12:50.118 &gt; ---------------------------------\n21:12:55.060 &gt; [HTTP] Raw Commands: NONE\n21:12:55.060 &gt; ---- Network Message Timings ----\n21:12:55.063 &gt; Payload Created At: 3762091 ms\n21:12:55.066 &gt; Network Send Time After Payload Creation: 1 ms\n21:12:55.071 &gt; Network Receive Time - After Send: 948 ms\n21:12:55.075 &gt; Command End Time - After Receive: 242 ms\n21:12:55.077 &gt; Total Time from Payload Creation to Command End: 1191 ms\n21:12:55.082 &gt; ---------------------------------\n21:12:59.930 &gt; [HTTP] Raw Commands: NONE\n21:12:59.931 &gt; ---- Network Message Timings ----\n21:12:59.933 &gt; Payload Created At: 3767091 ms\n21:12:59.936 &gt; Network Send Time After Payload Creation: 1 ms\n21:12:59.942 &gt; Network Receive Time - After Send: 823 ms\n21:12:59.944 &gt; Command End Time - After Receive: 238 ms\n21:12:59.947 &gt; Total Time from Payload Creation to Command End: 1062 ms\n21:12:59.952 &gt; ---------------------------------\n21:13:06.429 &gt; [HTTP] Raw Commands: NONE\n21:13:06.430 &gt; ---- Network Message Timings ----\n21:13:06.432 &gt; Payload Created At: 3772091 ms\n21:13:06.435 &gt; Network Send Time After Payload Creation: 1 ms\n21:13:06.440 &gt; Network Receive Time - After Send: 2374 ms\n21:13:06.443 &gt; Command End Time - After Receive: 186 ms\n21:13:06.449 &gt; Total Time from Payload Creation to Command End: 2561 ms\n21:13:06.451 &gt; ---------------------------------\n21:13:09.586 &gt; [HTTP] Raw Commands: NONE\n21:13:09.586 &gt; ---- Network Message Timings ----\n21:13:09.589 &gt; Payload Created At: 3777091 ms\n21:13:09.591 &gt; Network Send Time After Payload Creation: 1 ms\n21:13:09.597 &gt; Network Receive Time - After Send: 526 ms\n21:13:09.599 &gt; Command End Time - After Receive: 190 ms\n21:13:09.602 &gt; Total Time from Payload Creation to Command End: 717 ms\n21:13:09.608 &gt; ---------------------------------\n21:13:15.779 &gt; [HTTP] Raw Commands: NONE\n21:13:15.791 &gt; ---- Network Message Timings ----\n21:13:15.791 &gt; Payload Created At: 3782091 ms\n21:13:15.791 &gt; Network Send Time After Payload Creation: 1 ms\n21:13:15.791 &gt; Network Receive Time - After Send: 1593 ms\n21:13:15.792 &gt; Command End Time - After Receive: 315 ms\n21:13:15.798 &gt; Total Time from Payload Creation to Command End: 1909 ms\n21:13:15.801 &gt; ---------------------------------\n21:13:20.304 &gt; [HTTP] Raw Commands: NONE\n21:13:20.304 &gt; ---- Network Message Timings ----\n21:13:20.304 &gt; Payload Created At: 3787091 ms\n21:13:20.304 &gt; Network Send Time After Payload Creation: 1 ms\n21:13:20.320 &gt; Network Receive Time - After Send: 1206 ms\n21:13:20.323 &gt; Command End Time - After Receive: 233 ms\n21:13:20.328 &gt; Total Time from Payload Creation to Command End: 1440 ms\n21:13:20.330 &gt; ---------------------------------\n</code></pre>"},{"location":"results/#baseline-latency-logs-server","title":"baseline latency logs server","text":"<p>(logs are sanitized to remove PII and IP addresses)</p> <pre><code>[IoT] Processed Image from ESP32_Cam_01, Total Time: 39.0ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 41.3ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 34.5ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 37.4ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.7ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 44.4ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 37.5ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 39.4ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.0ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 37.1ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 38.3ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.0ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 36.6ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 38.3ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 37.5ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.4ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 39.6ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 41.8ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 42.9ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 43.6ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.5ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.6ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 39.6ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 42.1ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 41.1ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.1ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 37.3ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 41.0ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 39.7ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.5ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.0ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 44.3ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 35.9ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 43.9ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 38.1ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 44.2ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 37.7ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 44.0ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 42.8ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 39.8ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.2ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.5ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 39.8ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 42.9ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 41.3ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 37.4ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.5ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 38.0ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.7ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.5ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 37.4ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 35.8ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.9ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.7ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 37.1ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 41.0ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 39.9ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 39.4ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.6ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 42.4ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.2ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 37.6ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 37.3ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 41.2ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.8ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 37.5ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 43.4ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 42.3ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 41.7ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 35.1ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 41.1ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 42.1ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 41.3ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 34.8ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.2ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 36.5ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 35.2ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 38.8ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 37.2ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 38.5ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 35.1ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 39.8ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 41.4ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 36.7ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 35.7ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 33.5ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 37.7ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 33.2ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 41.3ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 36.4ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 39.4ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 37.0ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 37.8ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 32.5ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 37.4ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 37.6ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 37.4ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 39.4ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 34.1ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 38.4ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 35.1ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 39.5ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 35.6ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 43.9ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 38.8ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.2ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 43.0ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 37.9ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 40.7ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 41.8ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 43.0ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 35.2ms\n[IoT] Processed Image from ESP32_Cam_01, Total Time: 45.5ms\n</code></pre>"},{"location":"firmware/freertos-implementation/","title":"Firmware Implementation","text":"<p>designed to run in resource-constrained outdoor environments.</p>"},{"location":"firmware/freertos-implementation/#system-design-goals","title":"System Design Goals","text":"<ol> <li>Consistent capture high quality images from the camera module for each 5 second - 1 minute interval</li> <li>Transmit small pockets of data, since the device is mainly stored outside in the box and may not have a good WiFi connection</li> <li>In the real setting, it would need to be powered by a small commercial battery pack, so power efficiency is important, but for the prototype we focused on functionality first, powered by the USB cable.</li> <li>Able to be remotely controlled.</li> </ol>"},{"location":"firmware/freertos-implementation/#firmware-diagram","title":"Firmware Diagram","text":"<pre><code>sequenceDiagram\n    participant TASK_CAM\n    participant networkQueue\n    participant TASK_NET\n    participant server\n\n    Note over TASK_CAM: 1. Capture &amp; Wrap\n    TASK_CAM-&gt;&gt;TASK_CAM: Capture frame (get camera_fb*)\n    TASK_CAM-&gt;&gt;TASK_CAM: Wrap pointer in networkMessage\n\n    Note over TASK_CAM, networkQueue: 2. Enqueue\n    TASK_CAM-&gt;&gt;networkQueue: Send message to Queue\n\n    Note over networkQueue, TASK_NET: 3. Dequeue &amp; Send\n    networkQueue--&gt;&gt;TASK_NET: Retrieve payload\n    TASK_NET-&gt;&gt;server: Send payload to Server\n\n    Note over server: 4. Server Processing\n    server-&gt;&gt;server: Process Image\n\n    Note over server, TASK_NET: 5. Response &amp; Action\n    server--&gt;&gt;TASK_NET: Send Response (Contains CMD: LED_ON)\n    TASK_NET-&gt;&gt;TASK_NET: Parse Response\n    TASK_NET-&gt;&gt;TASK_NET: Match \"LED_ON\" -&gt; Write LED Pin HIGH</code></pre>"},{"location":"firmware/freertos-implementation/#firmware-architecture","title":"Firmware Architecture","text":"<p>Since this esp32 has dual cores, we assigned the high priority camera capture task to Core 1, while the network transmission task runs on Core 0.</p> <p>They will be communicated via a FreeRTOS Queue in a producer-consumer pattern. The camera task (producer) captures images and places pointers to the image buffers into the queue. The network task (consumer) retrieves these pointers from the queue and send the HTTP request. This ensures there is zero data copying between tasks, optimizing both memory usage and CPU cycles.</p> <pre><code>void Task_Camera(void *pvParameters) {\n  ...\n  camera_fb_t *fb = esp_camera_fb_get();\n  ...\n  NetworkMessage msg = createImageUploadMessage(fb);\n  if (xQueueSend(networkQueue, &amp;msg, pdMS_TO_TICKS(NETWORK_QUEUE_MAX_WAIT_MS)) != pdTRUE) {\n    esp_camera_fb_return(fb); // Return the frame buffer if not sent\n  }\n  ...\n}\n\nvoid Task_Network(void *pvParameters) {\n  ...\n  if (xQueueReceive(networkQueue, &amp;msg, portMAX_DELAY) == pdTRUE) {\n    uploadImage(msg.fb);\n    esp_camera_fb_return(msg.fb); \n  }\n  ...\n}\n</code></pre>"},{"location":"firmware/freertos-implementation/#stateless-command-protocol-http-piggybacking","title":"Stateless Command Protocol (\"HTTP Piggybacking\")","text":"<p>To minimize the memory usage and power consumption, I actually did not use the MQTT callback mechanism. Instead, when the server acknowledges an image (200 OK), it sends commands (e.g., BLINK;REBOOT) in the response body.</p> <p>We don't actually need a real time control, so this simple request-response model works well.</p> <pre><code>handleHTTPResponse() {\n  String payload = http.getString(); // Example: \"BLINK;REBOOT;REPORT\"\n  ...\n}\n</code></pre>"},{"location":"firmware/freertos-implementation/#command-parsing-pipeline","title":"Command Parsing Pipeline","text":"<p>Multiple Commands maybe sent in one response, delimited by semicolons. The command parser splits the string and executes them sequentially.</p>"},{"location":"firmware/optimization/","title":"Latency optimization","text":""},{"location":"firmware/optimization/#baseline-latency-analysis","title":"Baseline Latency Analysis","text":""},{"location":"firmware/optimization/#esp-baseline-measurements","title":"ESP: Baseline measurements","text":"<ul> <li>if the server is not step, the standard timeout for a network request is around 5 seconds, which conforms the default timeout setting:</li> </ul> <pre><code>18:56:57.784 &gt; [HTTP] Error: connection refused\n18:56:57.784 &gt; ---- Network Message Timings ----\n18:56:57.801 &gt; Payload Created At: 130391 ms\n18:56:57.805 &gt; Network Send Time After Payload Creation: 1 ms\n18:56:57.806 &gt; Network Receive Time - After Send: 5002 ms\n18:56:57.810 &gt; Command End Time - After Receive: 0 ms\n18:56:57.815 &gt; Total Time from Payload Creation to Command End: 5003 ms\n</code></pre> <ul> <li>the baseline lantency for a successful request when the server is idle is around 500 - 1450 ms, but we can see </li> </ul> <pre><code>20:04:00.583 &gt; [HTTP] Raw Commands: NONE\n20:04:00.583 &gt; ---- Network Message Timings ----\n20:04:00.587 &gt; Payload Created At: 311561 ms\n20:04:00.589 &gt; Network Send Time After Payload Creation: 1 ms\n20:04:00.596 &gt; Network Receive Time - After Send: 1364 ms\n20:04:00.597 &gt; Command End Time - After Receive: 102 ms\n20:04:00.601 &gt; Total Time from Payload Creation to Command End: 1467 ms\n</code></pre> <p>here is the graph of latency over time:</p> <pre><code>xychart-beta\n    title \"Network Latency (RTT) per Request\"\n    x-axis \"Request Index\" 0 --&gt; 100\n    y-axis \"Latency (ms)\" 0 --&gt; 5200\n    line [375, 453, 338, 638, 628, 569, 1092, 298, 388, 378, 283, 605, 348, 522, 473, 679, 580, 628, 615, 465, 559, 865, 360, 987, 945, 636, 822, 591, 433, 1339, 1086, 778, 546, 801, 493, 1185, 648, 386, 416, 574, 2719, 824, 1127, 728, 867, 685, 1301, 1715, 505, 830, 571, 564, 935, 465, 742, 534, 625, 664, 574, 465, 828, 408, 270, 226, 625, 407, 515, 430, 799, 511, 515, 929, 532, 3448, 914, 365, 421, 716, 735, 232, 296, 208, 785, 334, 414, 553, 163, 229, 554, 732, 156, 909, 470, 842, 1418, 1441, 940, 477, 1107, 943, 913, 776, 1824, 5054, 2159, 1652, 307, 546, 406, 581, 769, 426, 1336, 767, 233, 672, 619, 912, 1246, 695, 1150, 948, 823, 2374, 526, 1593, 1206]</code></pre> <p>and here is the histogram of latency distribution:</p> <p><pre><code>xychart-beta\n    title \"Network Latency Histogram (RTT)\"\n    x-axis \"Latency Range (ms)\" [\"0\u2013499\",\"500\u2013999\",\"1000\u20131499\",\"1500\u20131999\",\"2000\u20132999\",\"3000\u20133999\",\"4000\u20135999\"]\n    y-axis \"Request Count\" 0 --&gt; 60\n    bar [49, 59, 22, 10, 6, 2, 1]</code></pre> Analyzing the data, we have the following statistics:</p> Metric Value Minimum 156 ms Maximum 5054 ms Average (Mean) 790 ms Median ~622 ms Mode 465 ms, 574 ms <ul> <li>the maximum latency of 5054ms is an outlier, so that indicates a case when the connection time out/packet loss happens</li> <li>the average latency is right-skewed by the outliers, so median is a better representation of typical latency</li> <li>The high standard deviation of 680ms indicates extreme jitter, suggesting that there might be either network instability or instable request overhead.</li> <li>the minimum latency of 156ms indicates my system actually functions correctly, and can achieve low latency, confirming that the current bottlenecks are architectural rather than physical.</li> </ul>"},{"location":"firmware/optimization/#remove-the-outliers","title":"Remove the Outliers","text":"<p>To better analyze the typical latency, we can remove the max 3 data and min 3 data points as outliers:</p> <pre><code>xychart-beta\n    title \"Network Latency (RTT) per Request (Trimmed)\"\n    x-axis \"Request Index\" 0 --&gt; 100\n    y-axis \"Latency (ms)\" 0 --&gt; 2600\n    line [375, 453, 338, 638, 628, 569, 1092, 298, 388, 378, 283, 605, 348, 522, 473, 679, 580, 628, 615, 465, 559, 865, 360, 987, 945, 636, 822, 591, 433, 1339, 1086, 778, 546, 801, 493, 1185, 648, 386, 416, 574, 824, 1127, 728, 867, 685, 1301, 1715, 505, 830, 571, 564, 935, 465, 742, 534, 625, 664, 574, 465, 828, 408, 270, 226, 625, 407, 515, 430, 799, 511, 515, 929, 532, 914, 365, 421, 716, 735, 232, 296, 785, 334, 414, 553, 229, 554, 732, 909, 470, 842, 1418, 1441, 940, 477, 1107, 943, 913, 776, 1824, 2159, 1652, 307, 546, 406, 581, 769, 426, 1336, 767, 233, 672, 619, 912, 1246, 695, 1150, 948, 823, 2374, 526, 1593, 1206]</code></pre> <p>The trimmed data shows:</p> <ul> <li>Min: 226</li> <li>Max: 2374</li> <li>Mean: 725.68</li> <li>Median: 625</li> <li>Standard Deviation: 385.50</li> </ul>"},{"location":"firmware/optimization/#backend-baseline-measurements","title":"Backend: Baseline measurements","text":"<p>the typical server processing time is around 40ms:</p> <pre><code>0: 480x640 1 person, 37.5ms\nSpeed: 1.2ms preprocess, 37.5ms inference, 0.4ms postprocess per image at shape (1, 3, 480, 640)\nResults saved to ......\nDetection Results: Found 1 objects\n[IoT] Processed Image from ESP32_Cam_01, Detections: 1\nINFO:     192.168.0.171:63600 - \"POST /api/devices/... HTTP/1.1\" 200 OK\n</code></pre> <p>here is the graph of server processing time over time:</p> <pre><code>xychart-beta\n    title \"Total Server Processing Time (Pre + Inference + Post)\"\n    x-axis \"Request Index\" 0 --&gt; 113\n    y-axis \"Processing Time (ms)\" 30 --&gt; 50\n    line [39.0, 41.3, 34.5, 37.4, 40.7, 44.4, 37.5, 39.4, 40.0, 37.1, 38.3, 40.0, 36.6, 38.3, 37.5, 40.4, 39.6, 41.8, 42.9, 43.6, 40.5, 40.6, 39.6, 42.1, 41.1, 40.1, 37.3, 41.0, 39.7, 40.5, 40.0, 44.3, 35.9, 43.9, 38.1, 44.2, 37.7, 44.0, 42.8, 39.8, 40.2, 40.5, 39.8, 42.9, 41.3, 37.4, 40.5, 38.0, 40.7, 40.5, 37.4, 35.8, 40.9, 40.7, 37.1, 41.0, 39.9, 39.4, 40.6, 42.4, 40.2, 37.6, 37.3, 41.2, 40.8, 37.5, 43.4, 42.3, 41.7, 35.1, 41.1, 42.1, 41.3, 34.8, 40.2, 36.5, 35.2, 38.8, 37.2, 38.5, 35.1, 39.8, 41.4, 36.7, 35.7, 33.5, 37.7, 33.2, 41.3, 36.4, 39.4, 37.0, 37.8, 32.5, 37.4, 37.6, 37.4, 39.4, 34.1, 38.4, 35.1, 39.5, 35.6, 43.9, 38.8, 40.2, 43.0, 37.9, 40.7, 41.8, 43.0, 35.2, 45.5]</code></pre> <p>the server processing time is relatively stable, with an average of 39.5ms and a standard deviation of 2.8ms, indicating that the server is not the main source of latency variability.</p>"},{"location":"firmware/optimization/#optimizations-keep-alive-http-persistent-connections","title":"Optimizations - <code>Keep Alive</code> &amp; <code>HTTP Persistent Connections</code>","text":"<p>When I analysize the latency breakdown logs:</p> <pre><code>INFO:     192.xxx.x.xxx:55282 - \"POST /api/devices/file/image HTTP/1.1\" 200 OK\nINFO:     192.xxx.x.xxx:55283 - \"POST /api/devices/file/image HTTP/1.1\" 200 OK\nINFO:     192.xxx.x.xxx:55284 - \"POST /api/devices/file/image HTTP/1.1\" 200 OK\n...\n</code></pre> <p>In my origial implementation, each HTTP request opens a new TCP connection, send the request, and then close the connection. This TCP connection setup and teardown may introduce significant overhead.</p> <p>therefore, I only setup the http request once, and reuse the same connection for subsequent requests. Here is what I got:</p> <pre><code>xychart-beta\n    title \"Network Latency (RTT) per Request (ms)\"\n    x-axis \"Request Index\" 0 --&gt; 100\n    y-axis \"Time (ms)\" 0 --&gt; 4500\n    line [595, 607, 661, 703, 1601, 595, 387, 641, 347, 337, 1536, 842, 797, 1278, 1052, 1071, 1910, 3217, 799, 1087, 1174, 688, 571, 581, 937, 844, 853, 573, 845, 819, 1130, 862, 292, 607, 903, 346, 420, 1036, 768, 615, 530, 854, 352, 1318, 803, 659, 478, 605, 675, 1657, 838, 974, 1112, 915, 836, 995, 705, 1149, 593, 615, 1202, 390, 359, 611, 906, 633, 739, 379, 373, 2079, 469, 890, 649, 1427, 587, 915, 652, 699, 933, 1138, 2417, 1104, 4351, 785, 1076, 576, 1171, 684, 680, 652, 683, 794, 614, 555, 418, 1084, 1422, 1272, 1367, 622, 661, 743, 2649, 604, 595, 1209, 1355, 391, 605, 625, 1202, 693, 1395, 1300, 1083, 675, 972, 396, 235, 772, 559, 518, 541, 659, 1304, 848]</code></pre> <p>The \"optimized\" latency data shows:</p> <ul> <li>Mean: 893.14 ms</li> <li>Max: 4351 ms</li> <li>Min: 235 ms</li> <li>Median: 755.5 ms</li> <li>Standard Deviation (SD): 547.71 ms</li> </ul> <p>which is even worse than before...</p> <p>After removing the top 3 and bottom 3 outliers, we have:</p> <pre><code>xychart-beta\n    title \"Network Latency (RTT) per Request (ms)\"\n    x-axis \"Request Index\" 0 --&gt; 120\n    y-axis \"Time (ms)\" 0 --&gt; 2500\n    line [595, 607, 661, 703, 1601, 595, 387, 641, 347, 1536, 842, 797, 1278, 1052, 1071, 1910, 799, 1087, 1174, 688, 571, 581, 937, 844, 853, 573, 845, 819, 1130, 862, 607, 903, 346, 420, 1036, 768, 615, 530, 854, 352, 1318, 803, 659, 478, 605, 675, 1657, 838, 974, 1112, 915, 836, 995, 705, 1149, 593, 615, 1202, 390, 359, 611, 906, 633, 739, 379, 373, 2079, 469, 890, 649, 1427, 587, 915, 652, 699, 933, 1138, 2417, 1104, 785, 1076, 576, 1171, 684, 680, 652, 683, 794, 614, 555, 418, 1084, 1422, 1272, 1367, 622, 661, 743, 604, 595, 1209, 1355, 391, 605, 625, 1202, 693, 1395, 1300, 1083, 675, 972, 396, 772, 559, 518, 541, 659, 1304, 848]</code></pre> <p>The trimmed \"optimized\" latency data shows:</p> <ul> <li>Mean: 845.46 ms</li> <li>Max: 2417 ms</li> <li>Min: 346 ms</li> <li>Median: 755.5 ms</li> <li>Standard Deviation (SD): 364.93 ms</li> </ul> <p>so where is the problem? I look back at the server logs, and found this:</p> <pre><code>INFO:     192.xxx.xxx.xxx:63912 - \"POST /api/devices/file/image HTTP/1.1\" 200 OK\nINFO:     127.0.0.1:56071 - \"GET /livereload/118715765/118716218 HTTP/1.1\" 404 Not Found\nINFO:     127.0.0.1:56071 - \"GET /livereload/118715765/118716218 HTTP/1.1\" 404 Not Found\n...\nINFO:     192.xxx.xxx.xxx:63912 - \"POST /api/devices/file/image HTTP/1.1\" 200 OK\nINFO:     127.0.0.1:56071 - \"GET /livereload/118715765/118716218 HTTP/1.1\" 404 Not Found\n</code></pre> <p>This indicates there might be other unwanted background traffic on the server, interfering with the processing of my requests.</p>"},{"location":"firmware/optimization/#optimizations-asynchronous-server-task-flow","title":"Optimizations - Asynchronous Server Task flow","text":"<p>In addition, the current flow completes everything sequentially. So the server will first receive the entire image, process it, and then send back the response. This means the device has to wait for the entire processing to complete before it can proceed.</p> <p>Therefore, I modified the server to handle the image processing asynchronously and return the response quicker</p> <pre><code>def receive_image(...):\n    raw_bytes = await request.body()\n    ...\n    background_tasks.add_task(background_image_processing, raw_bytes, x_device_id)\n    pending_commands = await get_and_clear_commands(x_device_id)\n    ...\n    return formatted_pending_commands\n</code></pre>"},{"location":"firmware/optimization/#measure-latency-after-optimizations-hd-image","title":"Measure Latency After Optimizations - HD Image","text":"<p>in the real scenario, the image is at least HD (1280x720) resolution, so I also measured the latency with HD images</p> <p>here is the graph of latency measure on the ESP32 (which is the total latency) and on the server (which is only the server processing time):</p> <pre><code>xychart-beta\n    title \"IoT Latency vs Server Latency (ms)\"\n    x-axis \"Request Index (Success Only)\" 1 --&gt; 94\n    y-axis \"Latency (ms)\" 0 --&gt; 15000\n    line [4432, 9918, 9313, 12558, 7812, 11286, 7727, 8167, 6857, 6339, 6638, 6881, 5133, 3858, 2976, 1601, 1475, 2860, 3782, 3004, 3282, 3720, 2239, 1530, 2223, 1697, 2662, 2487, 3278, 3805, 3916, 1946, 1487, 4010, 2932, 3508, 3402, 4117, 2929, 2835, 4157, 3503, 2948, 3282, 1819, 1952, 3881, 5097, 4494, 709, 5146, 3121, 3964, 2356, 2547, 4314, 2945, 5045, 3171, 2201, 2809, 2995, 3146, 1872, 3592, 4479, 5109, 3236, 599, 3591, 2534, 1601, 1527, 2315, 3846, 2798, 2354, 3759, 3512, 2283, 5194, 2986, 3909, 3182, 2470, 2172, 2347, 2449, 886, 1235, 854, 1103, 487, 3932]\n    line [3129, 9249, 9024, 12482, 7740, 10044, 7568, 7980, 6708, 6296, 6218, 6504, 5061, 3793, 2849, 1498, 1441, 2807, 3706, 2673, 3237, 3675, 2188, 1464, 1653, 1640, 2575, 2463, 3114, 3746, 3852, 1920, 1447, 3963, 2887, 3427, 3362, 4068, 2892, 2779, 3559, 3467, 2901, 3248, 1762, 1926, 3786, 5025, 3850, 676, 5129, 3097, 3934, 2317, 2519, 4292, 2903, 4974, 2885, 2166, 2774, 2940, 3096, 1807, 3517, 3894, 5004, 3201, 562, 3521, 2507, 1564, 1495, 2273, 3780, 2697, 2321, 3732, 3447, 2201, 3516, 2959, 3780, 3158, 2441, 2144, 2274, 2420, 833, 1200, 783, 1061, 467, 3897]</code></pre> <p>Here is the difference between the IoT latency and the server latency (which is the network + overhead):</p> <pre><code>\nxychart-beta\n    title \"Network Overhead (IoT Latency - Server Latency)\"\n    x-axis \"Request Index\" 1 --&gt; 94\n    y-axis \"Net Overhead (ms)\" 0 --&gt; 1500\n    line [1303, 669, 289, 76, 72, 1242, 159, 187, 149, 43, 420, 377, 72, 65, 127, 103, 34, 53, 76, 331, 45, 45, 51, 66, 570, 57, 87, 24, 164, 59, 64, 26, 40, 47, 45, 81, 40, 49, 37, 56, 598, 36, 47, 34, 57, 26, 95, 72, 644, 33, 17, 24, 30, 39, 28, 22, 42, 71, 286, 35, 35, 55, 50, 65, 75, 585, 105, 35, 37, 70, 27, 37, 32, 42, 66, 101, 33, 27, 65, 82, 1678, 27, 129, 24, 29, 28, 73, 29, 53, 35, 71, 42, 20, 35]</code></pre>"},{"location":"firmware/optimization/#memory-optimization","title":"Memory optimization","text":""},{"location":"firmware/optimization/#measure-heap-usage","title":"Measure heap usage","text":"<p>in fact, the baseline and the optimized heap usage are similar. I did not measure the baseline heap usage, but here is the final heap usage after all optimizations:</p> <pre><code>xychart-beta\n    title \"Free Heap Trend (Per Request ID)\"\n    x-axis \"Request ID\" 1 --&gt; 97\n    y-axis \"Heap (Bytes)\" 183000 --&gt; 189000\n    line [188436, 187444, 187444, 185320, 185128, 185116, 185116, 185116, 183492, 185108, 185120, 185108, 185108, 185120, 185116, 185120, 185120, 185108, 185108, 185312, 185312, 185312, 185312, 185312, 185312, 185312, 185312, 185148, 185312, 185312, 185312, 185312, 185312, 185312, 185312, 185312, 185312, 185312, 185312, 185312, 185312, 185324, 185312, 185312, 185312, 185312, 185312, 185312, 185312, 185312, 185312, 185108, 185324, 185312, 185312, 185312, 185312, 185312, 185312, 185324]</code></pre> <p>The heap usage remains relatively stable throughout the requests, with minor fluctuations likely due to GC activity or temporary allocations. The free heap ranges from approximately 183,492 bytes to 188,436 bytes, indicating that there is no significant memory leak or excessive memory consumption during operation.</p>"}]}